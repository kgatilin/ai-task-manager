# Project Architecture Index

**Generated by go-arch-lint on 2025-11-11**

*Quick architecture reference. Use package-specific Details commands for comprehensive information.*

## Quick Reference

- **Module**: (detected from go.mod)
- **Status**: ✓ 0 violations
- **Packages**: 26
- **Files**: 204

## Architecture Summary

## Architectural Rules

**Layer Dependencies:**


**Strict Mode**: Only required directories are allowed

## Dependency Graph

Package-level dependencies (local dependencies only):

- **cmd/dw** → internal/app, internal/app/tui, internal/infra, pkg/plugins/claude_code, pkg/plugins/task_manager, pkg/pluginsdk
- **internal/app** → internal/domain, pkg/pluginsdk
- **internal/app/tui** → internal/app, internal/domain, pkg/pluginsdk
- **internal/domain** → pkg/pluginsdk
- **internal/infra** → internal/domain, pkg/pluginsdk
- **pkg/plugins/claude_code** → pkg/pluginsdk
- **pkg/plugins/task_manager** → pkg/plugins/task_manager/application, pkg/plugins/task_manager/domain, pkg/plugins/task_manager/domain/entities, pkg/plugins/task_manager/domain/services, pkg/plugins/task_manager/infrastructure/persistence, pkg/plugins/task_manager/presentation/cli, pkg/pluginsdk
- **pkg/plugins/task_manager/application** → pkg/plugins/task_manager/application/dto, pkg/plugins/task_manager/domain/entities, pkg/plugins/task_manager/domain/repositories, pkg/plugins/task_manager/domain/services, pkg/plugins/task_manager/infrastructure/persistence, pkg/pluginsdk
- **pkg/plugins/task_manager/application/dto** → *(no local dependencies)*
- **pkg/plugins/task_manager/domain** → pkg/plugins/task_manager/domain/entities, pkg/pluginsdk
- **pkg/plugins/task_manager/domain/entities** → pkg/pluginsdk
- **pkg/plugins/task_manager/domain/events** → pkg/plugins/task_manager/domain/entities
- **pkg/plugins/task_manager/domain/repositories** → pkg/plugins/task_manager/domain/entities
- **pkg/plugins/task_manager/domain/services** → pkg/plugins/task_manager/domain/entities, pkg/pluginsdk
- **pkg/plugins/task_manager/infrastructure/persistence** → pkg/plugins/task_manager/domain, pkg/plugins/task_manager/domain/entities, pkg/plugins/task_manager/domain/events, pkg/plugins/task_manager/domain/repositories, pkg/pluginsdk
- **pkg/plugins/task_manager/presentation/cli** → pkg/plugins/task_manager/application, pkg/plugins/task_manager/application/dto, pkg/plugins/task_manager/domain, pkg/plugins/task_manager/domain/entities, pkg/pluginsdk
- **pkg/pluginsdk** → *(no local dependencies)*

## Package Directory

### cmd (Application Entry Points)

- **main** (`cmd/dw`)
  - Files: 10 (analyze.go: 156, bootstrap.go: 183, config.go: 114, init.go: 122, logs.go: 174, main.go: 287, plugin.go: 193, plugin_registration.go: 205, refresh.go: 52, ui.go: 113) | Exports: 7
  - Key exports: AppServices, InitializeApp, LogsOptions
  - **Details**: `go-arch-lint -format=package cmd/dw`


### pkg (Public APIs)

- **claude_code** (`pkg/plugins/claude_code`)
  - Files: 11 (analysis.go: 57, analysis_repository.go: 28, commands.go: 822, event_types.go: 32, hook_input_parser.go: 137, hook_manager.go: 306, interfaces.go: 101, payloads.go: 45, plugin.go: 232, session_entity.go: 173, session_view.go: 130) | Exports: 116
  - Key exports: SessionAnalysis, NewSessionAnalysis, NewSessionAnalysisWithType
  - **Details**: `go-arch-lint -format=package pkg/plugins/claude_code`

- **task_manager_test** (`pkg/plugins/task_manager`)
  - Files: 17 (command_backup.go: 569, command_migrate.go: 372, command_project.go: 478, command_prompt.go: 110, command_roadmap.go: 655, command_tui.go: 123, commands.go: 389, config.go: 162, events.go: 60, migration_v3_to_v4.go: 297, migration_v4_to_v5.go: 113, output_formatter.go: 86, plugin.go: 860, prompt.go: 482, schema.go: 433, tui_models.go: 2860, watcher.go: 322) | Exports: 244
  - Key exports: BackupCommand, GetName, GetDescription
  - **Details**: `go-arch-lint -format=package pkg/plugins/task_manager`

- **application** (`pkg/plugins/task_manager/application`)
  - Files: 5 (ac_service.go: 193, adr_service.go: 233, iteration_service.go: 340, task_service.go: 185, track_service.go: 213) | Exports: 53
  - Key exports: ACApplicationService, NewACApplicationService, CreateAC
  - **Details**: `go-arch-lint -format=package pkg/plugins/task_manager/application`

- **dto** (`pkg/plugins/task_manager/application/dto`)
  - Files: 6 (ac_dto.go: 36, adr_dto.go: 30, helpers.go: 23, iteration_dto.go: 23, task_dto.go: 27, track_dto.go: 26) | Exports: 21
  - Key exports: CreateACDTO, UpdateACDTO, VerifyACDTO
  - **Details**: `go-arch-lint -format=package pkg/plugins/task_manager/application/dto`

- **domain** (`pkg/plugins/task_manager/domain`)
  - Files: 1 (repository.go: 114) | Exports: 3
  - Key exports: RoadmapRepository, RoadmapRepositoryFactory, GetLogger
  - **Details**: `go-arch-lint -format=package pkg/plugins/task_manager/domain`

- **entities** (`pkg/plugins/task_manager/domain/entities`)
  - Files: 7 (ac_entity.go: 80, adr_entity.go: 156, iteration_entity.go: 199, roadmap_entity.go: 70, task_entity.go: 142, track_entity.go: 218, value_objects.go: 139) | Exports: 101
  - Key exports: AcceptanceCriteriaEntity, NewAcceptanceCriteriaEntity, GetID
  - **Details**: `go-arch-lint -format=package pkg/plugins/task_manager/domain/entities`

- **events** (`pkg/plugins/task_manager/domain/events`)
  - Files: 2 (event_payloads.go: 104, events.go: 60) | Exports: 54
  - Key exports: RoadmapCreatedPayload, RoadmapUpdatedPayload, TrackCreatedPayload
  - **Details**: `go-arch-lint -format=package pkg/plugins/task_manager/domain/events`

- **repositories** (`pkg/plugins/task_manager/domain/repositories`)
  - Files: 7 (ac_repository.go: 43, adr_repository.go: 39, aggregate_repository.go: 31, iteration_repository.go: 65, roadmap_repository.go: 26, task_repository.go: 45, track_repository.go: 53) | Exports: 7
  - Key exports: AcceptanceCriteriaRepository, ADRRepository, AggregateRepository
  - **Details**: `go-arch-lint -format=package pkg/plugins/task_manager/domain/repositories`

- **services** (`pkg/plugins/task_manager/domain/services`)
  - Files: 3 (dependency_service.go: 64, iteration_service.go: 60, validation_service.go: 60) | Exports: 13
  - Key exports: DependencyService, NewDependencyService, ValidateNoCycles
  - **Details**: `go-arch-lint -format=package pkg/plugins/task_manager/domain/services`

- **persistence** (`pkg/plugins/task_manager/infrastructure/persistence`)
  - Files: 10 (ac_repository.go: 279, adr_repository.go: 223, aggregate_repository.go: 185, event_emitting_repository.go: 861, iteration_repository.go: 517, migrations.go: 831, repository_composite.go: 404, roadmap_repository.go: 120, task_repository.go: 348, track_repository.go: 423) | Exports: 191
  - Key exports: SQLiteAcceptanceCriteriaRepository, NewSQLiteAcceptanceCriteriaRepository, SaveAC
  - **Details**: `go-arch-lint -format=package pkg/plugins/task_manager/infrastructure/persistence`

- **cli** (`pkg/plugins/task_manager/presentation/cli`)
  - Files: 5 (ac_adapters.go: 1357, adr_adapters.go: 628, iteration_adapters.go: 931, task_adapters.go: 853, track_adapters.go: 748) | Exports: 271
  - Key exports: ACAddCommandAdapter, GetName, GetDescription
  - **Details**: `go-arch-lint -format=package pkg/plugins/task_manager/presentation/cli`

- **pluginsdk** (`pkg/pluginsdk`)
  - Files: 11 (analysis_view.go: 21, capability.go: 117, command.go: 34, entity.go: 146, errors.go: 14, event.go: 30, event_migration.go: 1, eventbus.go: 100, plugin.go: 82, repository.go: 63, rpc.go: 238) | Exports: 63
  - Key exports: AnalysisView, IEntityProvider, IEntityUpdater
  - **Details**: `go-arch-lint -format=package pkg/pluginsdk`


### internal (Isolated Primitives)

- **app** (`internal/app`)
  - Files: 13 (analysis.go: 813, analysis_prompt.go: 60, analyze_cmd.go: 267, command_registry.go: 213, config_handler.go: 63, event_dispatcher.go: 216, logger.go: 114, logs.go: 553, logs_cmd.go: 111, plugin_context.go: 159, plugin_registry.go: 292, refresh_cmd.go: 85, setup.go: 53) | Exports: 112
  - Key exports: NoOpLogger, Debug, Info
  - **Details**: `go-arch-lint -format=package internal/app`

- **tui** (`internal/app/tui`)
  - Files: 8 (analysisviewer.go: 189, app.go: 614, help.go: 230, logviewer.go: 426, sessiondetail.go: 266, sessionlist.go: 201, styles.go: 213, types.go: 64) | Exports: 114
  - Key exports: AnalysisViewerModel, NewAnalysisViewerModel, Init
  - **Details**: `go-arch-lint -format=package internal/app/tui`

- **domain** (`internal/domain`)
  - Files: 7 (analysis.go: 131, config.go: 258, event.go: 42, llm.go: 28, plugin.go: 20, repository.go: 74, trigger.go: 35) | Exports: 49
  - Key exports: Analysis, NewAnalysis, MarshalMetadata
  - **Details**: `go-arch-lint -format=package internal/domain`

- **infra** (`internal/infra`)
  - Files: 12 (claude_code_llm.go: 184, config.go: 190, context.go: 138, error_logger.go: 83, eventbus.go: 196, logger.go: 129, plugin_loader.go: 205, rpc_client.go: 396, sqlite_eventbus_repository.go: 244, sqlite_repository.go: 1028, subprocess_plugin.go: 351, transcript.go: 143) | Exports: 104
  - Key exports: ClaudeCodeLLM, NewClaudeCodeLLM, NewClaudeCodeLLMWithConfig
  - **Details**: `go-arch-lint -format=package internal/infra`


## Agent Guidance

To get detailed information about specific packages:

**Per-package details**:
- Each package above has a **Details** command to get full information
- Example: `go-arch-lint -format=package pkg/linter`
- Shows: full API, dependencies, exported types/functions for that package

**Project-wide information**:
- Public API for all packages: `./go-arch-lint -format=api .`
- Dependency graph: `./go-arch-lint -format=markdown .`
- Method-level dependencies: `./go-arch-lint -detailed -format=markdown .`
- Check violations: `./go-arch-lint .`

**Common workflows**:
- Understanding a package → Find it below, run the Details command
- Adding new feature → Review architectural rules above, check layer constraints
- Checking violations → Run `./go-arch-lint .` to see current issues with guidance

## Statistics

- **Total Files**: 204
- **Total Packages**: 26
- **Violations**: 0
- **External Dependencies**: 35

---

*Use the package-specific Details commands above to get comprehensive information about each package.*
*Run `./go-arch-lint docs` to regenerate this index.*
